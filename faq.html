<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />

  <title>FAQ | CELDYQUE</title>
  <meta name="description" content="CELDYQUE FAQ: product shelf life & PAO, how to use Volufiline 100% concentrate, Niacinamide and Vitamin C layering, pregnancy routines, international availability, and support." />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <link rel="canonical" href="https://www.celdyque.com/faq.html" />

  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="CELDYQUE" />
  <meta property="og:title" content="FAQ | CELDYQUE" />
  <meta property="og:description" content="Answers about shelf life, Volufiline 100% concentrate usage, Niacinamide + Vitamin C, pregnancy routines, international availability, and support." />
  <meta property="og:url" content="https://www.celdyque.com/faq.html" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="theme-color" content="#ffffff" />

  <!-- Structured Data: Keep this perfectly aligned with visible FAQs -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@graph":[
      {
        "@type":"Organization",
        "@id":"https://www.celdyque.com/#organization",
        "name":"CELDYQUE",
        "url":"https://www.celdyque.com/",
        "email":"team@celdyque.com"
      },
      {
        "@type":"WebSite",
        "@id":"https://www.celdyque.com/#website",
        "url":"https://www.celdyque.com/",
        "name":"CELDYQUE",
        "publisher":{"@id":"https://www.celdyque.com/#organization"},
        "inLanguage":"en"
      },
      {
        "@type":"BreadcrumbList",
        "@id":"https://www.celdyque.com/faq.html#breadcrumbs",
        "itemListElement":[
          {"@type":"ListItem","position":1,"name":"Home","item":"https://www.celdyque.com/"},
          {"@type":"ListItem","position":2,"name":"FAQ","item":"https://www.celdyque.com/faq.html"}
        ]
      },
      {
        "@type":"FAQPage",
        "@id":"https://www.celdyque.com/faq.html#faq",
        "url":"https://www.celdyque.com/faq.html",
        "name":"FAQ | CELDYQUE",
        "inLanguage":"en",
        "isPartOf":{"@id":"https://www.celdyque.com/#website"},
        "about":{"@id":"https://www.celdyque.com/#organization"},
        "dateModified":"2026-02-09",
        "mainEntity":[
          {
            "@type":"Question",
            "name":"What is the shelf life of CELDYQUE products?",
            "acceptedAnswer":{
              "@type":"Answer",
              "text":"Unopened products typically last 36 months. Once opened, please use within 12 months. Check the bottom of the bottle for the specific expiration date."
            }
          },
          {
            "@type":"Question",
            "name":"How do I use Volufiline 100% concentrate?",
            "acceptedAnswer":{
              "@type":"Answer",
              "text":"Volufiline 100% is a concentrate. Mix 1–3 drops into your moisturizer/cream/serum in your palm, then apply to target areas (cheeks, nasolabial folds, under eyes). Start once daily, then increase to morning and night if your skin feels comfortable."
            }
          },
          {
            "@type":"Question",
            "name":"Can I use Niacinamide with Vitamin C?",
            "acceptedAnswer":{
              "@type":"Answer",
              "text":"Yes. Niacinamide and Vitamin C can be used in the same routine, and many modern formulas are designed to be compatible. If your skin is sensitive—especially to strong pure Vitamin C—try splitting use (Vitamin C in the morning, Niacinamide at night) and increase frequency gradually. Always apply sunscreen during the day."
            }
          },
          {
            "@type":"Question",
            "name":"Is Bakuchiol safe during pregnancy?",
            "acceptedAnswer":{
              "@type":"Answer",
              "text":"Bakuchiol is commonly used as a gentle alternative to retinoids. During pregnancy or breastfeeding, keep your routine simple, patch test new products first, and stop use if irritation occurs."
            }
          },
          {
            "@type":"Question",
            "name":"Do you ship internationally?",
            "acceptedAnswer":{
              "@type":"Answer",
              "text":"CELDYQUE is available internationally through selected retailers (for example, Amazon and other K-beauty platforms). Delivery times and availability depend on the retailer and destination."
            }
          },
          {
            "@type":"Question",
            "name":"Where can I buy authentic CELDYQUE products?",
            "acceptedAnswer":{
              "@type":"Answer",
              "text":"For authenticity, purchase from CELDYQUE official storefronts and authorized retailers. You can also check our Where to Buy page."
            }
          },
          {
            "@type":"Question",
            "name":"How can I contact CELDYQUE support?",
            "acceptedAnswer":{
              "@type":"Answer",
              "text":"Email team@celdyque.com. Include your order number (if available) and the product name for faster support."
            }
          }
        ]
      }
    ]
  }
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --bg:#f5f5f5;
      --white:#fff;
      --text:#1a1a1a;
      --text-light:#666;
      --border:#e5e5e5;
      --font:'Inter',-apple-system,system-ui,sans-serif;
      --tap:48px;
      --accent:#3b82f6;
      --shadow:0 10px 40px rgba(0,0,0,0.1);
      --radius:12px;
    }
    html{scroll-behavior:smooth}
    body{font-family:var(--font);background:var(--bg);color:var(--text);line-height:1.6}
    a{text-decoration:none;color:inherit}
    button,select{font-family:inherit}
    :focus-visible{outline:2px solid var(--accent);outline-offset:3px}

    .skip-link{position:absolute;left:-999px;top:0;background:#fff;padding:10px 14px;border-radius:10px;z-index:2000;border:1px solid var(--border)}
    .skip-link:focus{left:12px;top:12px}

    header{position:fixed;top:20px;left:20px;right:20px;z-index:1000;background:var(--bg);border-radius:999px;box-shadow:0 2px 20px rgba(0,0,0,0.08)}
    .header-inner{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem}
    .logo{font-size:1.3rem;font-weight:600;letter-spacing:0.05em}
    .desktop-nav{display:flex;gap:2.5rem}
    .nav-item{position:relative}
    .nav-item>a{font-size:0.9rem;min-height:var(--tap);display:flex;align-items:center;padding:0 0.5rem}

    .mega-menu{
      position:absolute;top:100%;left:-20px;
      background:var(--white);border-radius:var(--radius);
      box-shadow:var(--shadow);padding:1.2rem 1.4rem;min-width:220px;
      opacity:0;visibility:hidden;transform:translateY(10px);
      transition:all 0.25s ease;
    }
    .nav-item:hover .mega-menu,
    .nav-item:focus-within .mega-menu{opacity:1;visibility:visible;transform:translateY(0)}
    .mega-menu a{display:block;padding:0.55rem 0;font-size:0.9rem;color:var(--text-light)}
    .mega-menu a:hover{color:var(--text)}

    .header-right{display:flex;align-items:center;gap:0.5rem}
    .search-btn{
      display:inline-flex;align-items:center;gap:0.5rem;
      background:none;border:none;font-size:0.9rem;cursor:pointer;
      min-width:var(--tap);min-height:var(--tap);padding:0 0.6rem;border-radius:10px;
    }
    .search-btn:hover{background:rgba(0,0,0,0.04)}
    .mobile-menu-btn{display:none;background:none;border:none;cursor:pointer;min-width:var(--tap);min-height:var(--tap);padding:12px;border-radius:12px}
    .mobile-menu-btn:hover{background:rgba(0,0,0,0.04)}
    .hamburger{width:24px;height:18px;display:flex;flex-direction:column;justify-content:space-between}
    .hamburger span{display:block;width:100%;height:2px;background:var(--text);transition:all 0.25s}

    .mobile-menu-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:999}
    .mobile-menu-overlay.active{display:block}
    .mobile-menu{
      position:fixed;top:0;right:-100%;
      width:85%;max-width:420px;height:100dvh;background:var(--white);
      z-index:1001;transition:right 0.25s ease;
      padding:90px 1.6rem 2rem;outline:none;
    }
    .mobile-menu.active{right:0}
    .mobile-menu-nav a{display:block;font-size:1.2rem;font-weight:500;padding:1rem 0;border-bottom:1px solid var(--border)}

    .page-content{padding:140px 5% 80px;max-width:1200px;margin:0 auto}
    .breadcrumbs{margin:0.5rem 0 1.5rem;color:var(--text-light);font-size:0.85rem}
    .breadcrumbs a{color:inherit;text-decoration:underline;text-underline-offset:3px}
    .breadcrumbs span{opacity:0.85}

    .page-header{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:1.8rem;flex-wrap:wrap;gap:1rem}
    .page-header-left .label{font-size:0.85rem;color:var(--accent);margin-bottom:0.3rem;font-weight:600}
    .page-header-left h1{font-size:clamp(2rem,5vw,3.5rem);font-weight:600}
    .page-subcopy{max-width:80ch;color:var(--text-light);margin-top:0.75rem}

    .tools{display:flex;gap:0.6rem;flex-wrap:wrap;align-items:center}
    .filter-select{
      padding:0.8rem 1.2rem;background:var(--white);border:1px solid var(--border);
      border-radius:10px;font-size:0.9rem;min-height:44px;cursor:pointer;
    }

    .faq-search{
      display:flex;align-items:center;gap:0.5rem;
      background:var(--white);border:1px solid var(--border);
      border-radius:10px;padding:0 0.8rem;min-height:44px;
    }
    .faq-search input{
      border:none;outline:none;width:min(340px,60vw);
      font-size:0.9rem;background:transparent;padding:0.7rem 0;
    }
    .faq-search .kbd{
      font-size:0.75rem;color:var(--text-light);
      border:1px solid var(--border);border-bottom-width:2px;
      padding:2px 6px;border-radius:6px;background:#fafafa;
      user-select:none;
    }

    .faq-chips{display:flex;flex-wrap:wrap;gap:0.5rem;margin:1.1rem 0 2rem}
    .chip{display:inline-flex;align-items:center;min-height:40px;padding:0 14px;border-radius:999px;background:var(--white);border:1px solid var(--border);font-size:0.85rem;color:var(--text-light)}
    .chip:hover{color:var(--text)}

    .faq-section{margin-top:2.2rem}
    .faq-section h2{font-size:1.25rem;margin-bottom:0.5rem}
    .faq-section .section-note{color:var(--text-light);font-size:0.95rem;margin-bottom:1rem}

    .faq-list{border-top:1px solid var(--border)}
    details.faq-item{border-bottom:1px solid var(--border);background:transparent}
    details.faq-item[hidden]{display:none !important}

    summary.faq-header{
      list-style:none;
      display:grid;
      grid-template-columns:140px 1fr 40px;
      gap:1rem;
      padding:1.25rem 0;
      cursor:pointer;
      align-items:start;
      min-height:var(--tap);
      transition:background-color 0.2s ease;
    }
    summary.faq-header:hover{background-color:rgba(0,0,0,0.02)}
    summary::-webkit-details-marker{display:none}

    .faq-category{
      font-size:0.75rem;color:var(--accent);font-weight:600;text-transform:uppercase;
      letter-spacing:0.05em;background:rgba(59,130,246,0.1);
      padding:4px 8px;border-radius:8px;justify-self:start;height:fit-content;margin-top:2px;
    }
    .faq-question{font-weight:600;font-size:1.05rem;line-height:1.4}
    .faq-toggle{font-size:1.2rem;color:var(--text-light);justify-self:end;line-height:1;margin-top:2px;transition:transform 0.15s}

    .faq-answer{
      padding:0 0 1.6rem 156px;
      color:var(--text-light);
      line-height:1.8;
      max-width:900px;
    }
    .faq-answer p{margin-top:0.7rem}
    .faq-answer p:first-child{margin-top:0}
    .faq-answer strong{color:var(--text);font-weight:600}
    .faq-answer ul{margin:0.6rem 0 0.2rem 1.2rem}
    .faq-answer li{margin:0.25rem 0}
    .faq-answer a{color:inherit;text-decoration:underline;text-underline-offset:3px}

    details[open] .faq-toggle{transform:rotate(45deg)}

    .no-results{
      display:none;
      margin:1rem 0 0.25rem;
      padding:0.9rem 1rem;
      border:1px dashed var(--border);
      border-radius:12px;
      color:var(--text-light);
      background:rgba(255,255,255,0.6);
    }
    .no-results strong{color:var(--text)}

    footer{padding:60px 5% 30px;background:var(--text);color:var(--white);margin-top:80px}
    .footer-inner{max-width:1400px;margin:0 auto;display:grid;grid-template-columns:repeat(5,1fr);gap:2rem}
    .footer-col h4{font-size:0.8rem;font-weight:600;margin-bottom:1rem;text-transform:uppercase;letter-spacing:0.1em}
    .footer-col ul{list-style:none}
    .footer-col li{margin-bottom:0.5rem}
    .footer-col a{font-size:0.85rem;opacity:0.75}
    .footer-col a:hover{opacity:1}
    .footer-bottom{max-width:1400px;margin:2rem auto 0;padding-top:2rem;border-top:1px solid rgba(255,255,255,0.1);font-size:0.8rem;opacity:0.6}

    @media(max-width:1024px){
      .footer-inner{grid-template-columns:repeat(3,1fr)}
      summary.faq-header{grid-template-columns:1fr}
      .faq-answer{padding-left:0}
      .faq-toggle{display:none}
    }
    @media(max-width:768px){
      header{top:10px;left:10px;right:10px;border-radius:30px}
      .header-inner{padding:0.75rem 1.1rem}
      .desktop-nav{display:none}
      .mobile-menu-btn{display:flex;align-items:center;justify-content:center}
      .footer-inner{grid-template-columns:1fr 1fr}
      .faq-search input{width:min(260px,55vw)}
    }
    @media (prefers-reduced-motion: reduce){
      html{scroll-behavior:auto}
      .mega-menu,.mobile-menu,.faq-toggle{transition:none}
    }
  </style>
</head>

<body>
  <a class="skip-link" href="#main-content">Skip to content</a>

  <header>
    <div class="header-inner">
      <a href="home.html" class="logo" aria-label="CELDYQUE Home">CELDYQUE</a>

      <nav class="desktop-nav" aria-label="Primary">
        <div class="nav-item">
          <a href="shop.html" aria-haspopup="true" aria-expanded="false">Shop</a>
          <div class="mega-menu" aria-label="Shop submenu">
            <a href="shop.html">All</a>
            <a href="shop.html?cat=serum">Serum</a>
            <a href="shop.html?cat=cream">Cream</a>
            <a href="shop.html?cat=cleanser">Cleanser</a>
          </div>
        </div>
        <div class="nav-item">
          <a href="about.html" aria-haspopup="true" aria-expanded="false">About</a>
          <div class="mega-menu" aria-label="About submenu">
            <a href="about.html">Brand Story</a>
            <a href="coming-soon.html">Coming Soon</a>
            <a href="contact.html">Contact</a>
          </div>
        </div>
        <div class="nav-item"><a href="store.html">Store</a></div>
        <div class="nav-item"><a href="faq.html" aria-current="page">FAQ</a></div>
      </nav>

      <div class="header-right">
        <button class="search-btn" id="openSearch" aria-label="Search FAQs (focus the search box)">
          Search
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
        </button>

        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Menu" aria-controls="mobileMenu" aria-expanded="false">
          <div class="hamburger" aria-hidden="true"><span></span><span></span><span></span></div>
        </button>
      </div>
    </div>
  </header>

  <div class="mobile-menu-overlay" id="mobileMenuOverlay" aria-hidden="true"></div>
  <div class="mobile-menu" id="mobileMenu" role="dialog" aria-modal="true" aria-label="Mobile menu" tabindex="-1">
    <nav class="mobile-menu-nav">
      <a href="shop.html">Shop</a>
      <a href="about.html">About</a>
      <a href="store.html">Store</a>
      <a href="faq.html" aria-current="page">FAQ</a>
    </nav>
  </div>

  <main class="page-content" id="main-content">
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <a href="index.html">Home</a> <span>›</span> <span aria-current="page">FAQ</span>
    </nav>

    <div class="page-header">
      <div class="page-header-left">
        <p class="label">FAQ</p>
        <h1>Frequently Asked Questions</h1>
        <p class="page-subcopy">
          Everything you need to know about CELDYQUE products, shipping, and support.
        </p>
      </div>

      <div class="tools" aria-label="FAQ tools">
        <div class="faq-search" role="search" aria-label="Search FAQs">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input id="faqSearch" type="search" placeholder="Search FAQs…" autocomplete="off" aria-label="Search questions and answers" />
          <span class="kbd" aria-hidden="true">Ctrl K</span>
        </div>

        <select class="filter-select" id="faqFilter" aria-label="Filter FAQs">
          <option value="all">All Topics</option>
          <option value="products">Products & Usage</option>
          <option value="shipping">Shipping</option>
          <option value="support">Support</option>
        </select>
      </div>
    </div>

    <div class="faq-chips" aria-label="FAQ sections">
      <a class="chip" href="#products">Products</a>
      <a class="chip" href="#shipping">Shipping</a>
      <a class="chip" href="#support">Support</a>
    </div>

    <div class="no-results" id="noResults" role="status" aria-live="polite">
      No results found for <strong id="noResultsTerm"></strong>. Try a different keyword (e.g., “Vitamin C”, “shipping”, “shelf life”).
    </div>

    <section class="faq-section" id="products">
      <h2>Products</h2>
      <p class="section-note">Shelf life, usage, and ingredient layering basics.</p>

      <div class="faq-list" aria-label="Products FAQ">
        <details class="faq-item" data-cat="products">
          <summary class="faq-header">
            <span class="faq-category">Product</span>
            <span class="faq-question">What is the shelf life of CELDYQUE products?</span>
            <span class="faq-toggle" aria-hidden="true">+</span>
          </summary>
          <div class="faq-answer">
            <p>Unopened products typically last <strong>36 months</strong>. Once opened, please use within <strong>12 months</strong>. Check the bottom of the bottle for the specific expiration date.</p>
          </div>
        </details>

        <details class="faq-item" data-cat="products">
          <summary class="faq-header">
            <span class="faq-category">Product</span>
            <span class="faq-question">How do I use Volufiline 100% concentrate?</span>
            <span class="faq-toggle" aria-hidden="true">+</span>
          </summary>
          <div class="faq-answer">
            <p>Volufiline 100% is a <strong>concentrate</strong>.</p>
            <ul>
              <li>Mix <strong>1–3 drops</strong> into your moisturizer/cream/serum in your palm.</li>
              <li>Apply to target areas (cheeks, nasolabial folds, under eyes).</li>
              <li>Start <strong>once daily</strong>, then increase to <strong>morning and night</strong> if your skin feels comfortable.</li>
            </ul>
          </div>
        </details>

        <details class="faq-item" data-cat="products">
          <summary class="faq-header">
            <span class="faq-category">Routine</span>
            <span class="faq-question">Can I use Niacinamide with Vitamin C?</span>
            <span class="faq-toggle" aria-hidden="true">+</span>
          </summary>
          <div class="faq-answer">
            <p><strong>Yes.</strong> Niacinamide and Vitamin C can be used in the same routine, and many modern formulas are designed to be compatible.</p>
            <p><strong>How to use (recommended):</strong><br />
              • <strong>Morning:</strong> Vitamin C → moisturizer → <strong>SPF</strong><br />
              • <strong>Evening:</strong> Niacinamide → moisturizer (or use niacinamide both AM/PM if your skin tolerates it)
            </p>
            <p><strong>If your skin is sensitive:</strong> If you experience stinging or redness (especially with strong pure Vitamin C), try a <strong>split routine</strong> (Vitamin C in the morning, Niacinamide at night), start 2–3 times per week, and increase gradually.</p>
            <p><em>*Daily sunscreen is essential when using antioxidants like Vitamin C.</em></p>
          </div>
        </details>

        <details class="faq-item" data-cat="products">
          <summary class="faq-header">
            <span class="faq-category">Routine</span>
            <span class="faq-question">Is Bakuchiol safe during pregnancy?</span>
            <span class="faq-toggle" aria-hidden="true">+</span>
          </summary>
          <div class="faq-answer">
            <p>Bakuchiol is commonly used as a gentle alternative to retinoids. During pregnancy or breastfeeding, keep your routine simple, patch test new products first, and stop use if irritation occurs.</p>
          </div>
        </details>
      </div>
    </section>

    <section class="faq-section" id="shipping">
      <h2>Shipping</h2>
      <p class="section-note">Availability varies by retailer and destination.</p>

      <div class="faq-list" aria-label="Shipping FAQ">
        <details class="faq-item" data-cat="shipping">
          <summary class="faq-header">
            <span class="faq-category">Shipping</span>
            <span class="faq-question">Do you ship internationally?</span>
            <span class="faq-toggle" aria-hidden="true">+</span>
          </summary>
          <div class="faq-answer">
            <p>CELDYQUE is available internationally through selected retailers (for example, Amazon and other K-beauty platforms). Delivery times and availability depend on the retailer and destination.</p>
          </div>
        </details>

        <details class="faq-item" data-cat="shipping">
          <summary class="faq-header">
            <span class="faq-category">Authenticity</span>
            <span class="faq-question">Where can I buy authentic CELDYQUE products?</span>
            <span class="faq-toggle" aria-hidden="true">+</span>
          </summary>
          <div class="faq-answer">
            <p>For authenticity, purchase from CELDYQUE official storefronts and authorized retailers. You can also check our <a href="store.html">Where to Buy</a> page.</p>
          </div>
        </details>
      </div>
    </section>

    <section class="faq-section" id="support">
      <h2>Support</h2>
      <p class="section-note">Fast ways to get help.</p>

      <div class="faq-list" aria-label="Support FAQ">
        <details class="faq-item" data-cat="support">
          <summary class="faq-header">
            <span class="faq-category">Support</span>
            <span class="faq-question">How can I contact CELDYQUE support?</span>
            <span class="faq-toggle" aria-hidden="true">+</span>
          </summary>
          <div class="faq-answer">
            <p>Email <a href="mailto:team@celdyque.com">team@celdyque.com</a>. Include your order number (if available) and the product name for faster support.</p>
          </div>
        </details>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-inner">
      <div class="footer-col">
        <h4>Shop</h4>
        <ul>
          <li><a href="shop.html">All</a></li>
          <li><a href="shop.html?cat=serum">Serum</a></li>
          <li><a href="shop.html?cat=cream">Cream</a></li>
          <li><a href="shop.html?cat=cleanser">Cleanser</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>About</h4>
        <ul>
          <li><a href="about.html">Brand Story</a></li>
          <li><a href="coming-soon.html">Coming Soon</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Store</h4>
        <ul>
          <li><a href="store.html">Stores</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Community</h4>
        <ul>
          <li><a href="faq.html" aria-current="page">FAQ</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Contact</h4>
        <ul>
          <li><a href="mailto:team@celdyque.com">team@celdyque.com</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>© 2026 CELDYQUE. All Rights Reserved.</p>
    </div>
  </footer>

  <script>
    // ===== Helpers =====
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    const body = document.body;
    const faqFilter = $('#faqFilter');
    const faqSearch = $('#faqSearch');
    const noResults = $('#noResults');
    const noResultsTerm = $('#noResultsTerm');

    const faqItems = $$('details.faq-item');

    // Keep a single "state" so filter + search work together cleanly
    const state = {
      cat: 'all',
      q: ''
    };

    function normalize(s){
      return (s || '').toLowerCase().replace(/\s+/g,' ').trim();
    }

    function matchesSearch(item, q){
      if (!q) return true;
      const question = normalize(item.querySelector('.faq-question')?.textContent || '');
      const answer = normalize(item.querySelector('.faq-answer')?.textContent || '');
      return question.includes(q) || answer.includes(q);
    }

    function matchesCat(item, cat){
      return cat === 'all' || item.dataset.cat === cat;
    }

    function applyFAQ(){
      const q = normalize(state.q);
      let shownCount = 0;

      faqItems.forEach(item => {
        const show = matchesCat(item, state.cat) && matchesSearch(item, q);
        if (!show) item.removeAttribute('open'); // avoid hidden-open weirdness
        item.hidden = !show;
        if (show) shownCount++;
      });

      // No-results message
      if (q && shownCount === 0){
        noResults.style.display = 'block';
        noResultsTerm.textContent = state.q;
      } else {
        noResults.style.display = 'none';
      }

      // Navigation behavior (only for category changes, not for searches)
      if (state.cat === 'products') location.hash = '#products';
      if (state.cat === 'shipping') location.hash = '#shipping';
      if (state.cat === 'support') location.hash = '#support';
      if (state.cat === 'all' && !location.hash) {
        // keep URL stable
        history.replaceState(null, '', '/faq.html');
      }
    }

    faqFilter.addEventListener('change', (e) => {
      state.cat = e.target.value;
      applyFAQ();
    });

    faqSearch.addEventListener('input', (e) => {
      state.q = e.target.value;
      applyFAQ();
    });

    // Ctrl/Cmd + K focuses the search box
    document.addEventListener('keydown', (e) => {
      const isMac = navigator.platform.toUpperCase().includes('MAC');
      const mod = isMac ? e.metaKey : e.ctrlKey;
      if (mod && e.key.toLowerCase() === 'k'){
        e.preventDefault();
        faqSearch.focus();
      }
    });

    // Header "Search" button focuses FAQ search
    $('#openSearch').addEventListener('click', () => {
      faqSearch.focus();
      faqSearch.scrollIntoView({behavior:'smooth', block:'center'});
    });

    // ===== Mobile Menu (ESC close + focus trap + scroll lock) =====
    const mobileMenuBtn = $('#mobileMenuBtn');
    const mobileMenu = $('#mobileMenu');
    const mobileMenuOverlay = $('#mobileMenuOverlay');

    let lastFocus = null;

    function lockScroll(lock){
      body.style.overflow = lock ? 'hidden' : '';
      body.style.touchAction = lock ? 'none' : '';
    }

    function getFocusable(root){
      return $$('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])', root)
        .filter(el => !el.hasAttribute('disabled') && !el.getAttribute('aria-hidden'));
    }

    function openMenu(){
      lastFocus = document.activeElement;
      mobileMenu.classList.add('active');
      mobileMenuOverlay.classList.add('active');
      mobileMenuBtn.setAttribute('aria-expanded', 'true');
      lockScroll(true);
      // focus first link
      const focusables = getFocusable(mobileMenu);
      (focusables[0] || mobileMenu).focus();
    }

    function closeMenu(){
      mobileMenu.classList.remove('active');
      mobileMenuOverlay.classList.remove('active');
      mobileMenuBtn.setAttribute('aria-expanded', 'false');
      lockScroll(false);
      if (lastFocus && typeof lastFocus.focus === 'function') lastFocus.focus();
    }

    function toggleMenu(){
      const isOpen = mobileMenu.classList.contains('active');
      isOpen ? closeMenu() : openMenu();
    }

    mobileMenuBtn.addEventListener('click', toggleMenu);
    mobileMenuOverlay.addEventListener('click', () => {
      if (mobileMenu.classList.contains('active')) closeMenu();
    });

    document.addEventListener('keydown', (e) => {
      const isOpen = mobileMenu.classList.contains('active');
      if (!isOpen) return;

      if (e.key === 'Escape'){
        e.preventDefault();
        closeMenu();
        return;
      }

      // focus trap
      if (e.key === 'Tab'){
        const focusables = getFocusable(mobileMenu);
        if (focusables.length === 0) return;
        const first = focusables[0];
        const last = focusables[focusables.length - 1];
        const active = document.activeElement;

        if (e.shiftKey && active === first){
          e.preventDefault();
          last.focus();
        } else if (!e.shiftKey && active === last){
          e.preventDefault();
          first.focus();
        }
      }
    });

    // ===== Initialize =====
    // If user lands with a hash, set filter accordingly
    (function initFromHash(){
      const hash = (location.hash || '').toLowerCase();
      if (hash === '#products') state.cat = 'products';
      if (hash === '#shipping') state.cat = 'shipping';
      if (hash === '#support') state.cat = 'support';
      faqFilter.value = state.cat;
      applyFAQ();
    })();
  </script>
</body>
</html>
